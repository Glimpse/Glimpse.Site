function getBuildStatus() { $.ajax({ url: "/home/buildstatus", dataType: "json", success: function (e, t) { $("#build-info, #build-arrow").css("display", "block"); if (t === "success") { buildStatus = e.status.toLowerCase() === "success" ? !0 : !1; $("#build-tower").addClass(e.status.toLowerCase()); buildStatus ? $("#build-status").empty().html("was successful") : $("#build-status").empty().html("failed"); $("#build-id").empty().html("<a href='" + e.link + "'>" + e.id + "</a>"); $("#build-date").empty().html(e.date + " at " + e.time) } else $("#build-info").hidden() } }) } function getTweets() { $.getJSON("/home/glimpsetweets", function (e) { $.each(e.results, function (e, t) { ct = t.text; i = t.created_at; var n = i.replace(/(\+\S+) (.*)/, "$2 $1"), r = (new Date(Date.parse(n))).toLocaleDateString(), i = (new Date(Date.parse(n))).toLocaleTimeString(); ct = ct.replace(/http:\/\/\S+/g, '<a href="$&" target="_blank">$&</a>'); $("#tweets").append('<div class="tweet"><strong><a href="http://twitter.com/' + t.from_user + '">' + t.from_user + "</a>: </strong>" + ct + " <br /><small>(" + r + " @ " + i + ")</small></div>") }) }) } function loadInlineVideo() { $(".inner-monitor").empty().append(inlineVideoHTML) } var console, buildStatus, inlineVideoHTML = '<iframe id="video" src="http://channel9.msdn.com/Shows/Web+Camps+TV/The-Glimpse-Team-on-Channel-9/player?w=443&h=285" frameBorder="0" scrolling="no" ></iframe>'; $().ready(function () { getBuildStatus(); getTweets(); $(".hover-point").tipsy(); $(".video-link").click(function (e) { e.preventDefault(); loadInlineVideo() }); $("a.download, #demo>section>a.button").click(function (e) { e.preventDefault(); if ($("#install").css("display") === "none") { console.log("clicked"); $(window).scrollTo(0, 1500) } $("#install").stop().slideToggle() }) });